var p=document.getElementById("taskForm"),i=document.getElementById("taskInput"),u=document.getElementById("queueList"),a=document.getElementById("popBtn"),y=document.getElementById("currentTask"),n=[];function c(){u.innerHTML="",n.forEach(t=>{let e=document.createElement("li");e.textContent=`${t.desc}  \u2022  (${t.priority})`,u.appendChild(e)})}var l=document.getElementById("fileInput");l.addEventListener("change",t=>{let e=t.target.files?.[0];if(!e)return;let o=new FileReader;o.onload=s=>{s.target.result.split(/\r?\n/).forEach(d=>{let r=d.trim();r&&(n.some(m=>m.desc===r)||n.push({id:crypto.randomUUID(),desc:r,priority:r.length}))}),n.sort((d,r)=>r.priority-d.priority),c(),l.value=""},o.readAsText(e)});p.addEventListener("submit",t=>{t.preventDefault();let e=i.value.trim();e&&(n.push({id:crypto.randomUUID(),desc:e,priority:e.length}),n.sort((o,s)=>s.priority-o.priority),i.value="",c())});a.addEventListener("click",()=>{if(!n.length)return;let t=n.shift();y.textContent=`\u25B6 Now doing: ${t.desc}`,c()});c();document.addEventListener("keydown",t=>{t.key==="/"&&!t.ctrlKey&&!t.metaKey&&(t.preventDefault(),i.focus()),t.key==="n"&&!t.ctrlKey&&!t.metaKey&&document.activeElement!==i&&(t.preventDefault(),a.click())});
