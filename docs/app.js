var g=document.getElementById("taskForm"),i=document.getElementById("taskInput"),l=document.getElementById("queueList"),m=document.getElementById("popBtn"),E=document.getElementById("currentTask"),n=[];function s(){l.innerHTML="",n.forEach(t=>{let e=document.createElement("li");e.textContent=`${t.desc}  \u2022  (${t.priority})`,l.appendChild(e)})}var a=document.getElementById("fileInput");a.addEventListener("change",t=>{let e=t.target.files?.[0];if(!e)return;let r=new FileReader;r.onload=c=>{let p=c.target.result.split(/\r?\n/),y=/^-\s+\[\s\]\s+(.+)$/;p.forEach(d=>{let o=y.exec(d);if(!o)return;let u=o[1].trim();n.some(f=>f.desc===u)||n.push({id:crypto.randomUUID(),desc:u,priority:u.length})}),n.sort((d,o)=>o.priority-d.priority),s(),a.value=""},r.readAsText(e)});g.addEventListener("submit",t=>{t.preventDefault();let e=i.value.trim();e&&(n.push({id:crypto.randomUUID(),desc:e,priority:e.length}),n.sort((r,c)=>c.priority-r.priority),i.value="",s())});m.addEventListener("click",()=>{if(!n.length)return;let t=n.shift();E.textContent=`\u25B6 Now doing: ${t.desc}`,s()});s();document.addEventListener("keydown",t=>{t.key==="/"&&!t.ctrlKey&&!t.metaKey&&(t.preventDefault(),i.focus()),t.key==="n"&&!t.ctrlKey&&!t.metaKey&&document.activeElement!==i&&(t.preventDefault(),m.click())});
